# CPU Scheduling

## ìŠ¤ì¼€ì¥´ë§ ì´ë€?

> Ready Queueì— ìˆëŠ” í”„ë¡œì„¸ìŠ¤ë“¤ ì¤‘ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ë¥¼ CPUì—ê²Œ í• ë‹¹í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ê²°ì •í•˜ëŠ” ì¼

ìŠ¤ì¼€ì¥´ë§ì´ í•„ìš”í•œ ì´ìœ ëŠ” CPU ì´ìš©ìœ¨ì„ ìµœëŒ€í™” í•˜ê¸° ìœ„í•´ì„œì´ë‹¤.

## CPU ìŠ¤ì¼€ì¤„ë§ ì²™ë„

1) **CPU ì´ìš©ë¥ (Utilization)** : CPU ìˆ˜í–‰ ì‹œê°„ / ì‹œìŠ¤í…œ êµ¬ë™ ì‹œê°„ (%) (â†‘)

2) **ì²˜ë¦¬ìœ¨(throughput)** : ë‹¨ìœ„ ì‹œê°„ë‹¹ ì™„ë£Œë˜ëŠ” í”„ë¡œì„¸ìŠ¤ ìˆ˜ (â†‘)

3) **ë°˜í™˜ ì‹œê°„(turnaround time)** : í”„ë¡œì„¸ìŠ¤ê°€ ì‹œìŠ¤í…œì— ì§„ì…í•˜ì—¬ ì™„ë£Œë˜ê¸°ê¹Œì§€ì˜ ì‹œê°„(â†“)

4) **ëŒ€ê¸° ì‹œê°„(waiting time)** : ì¤€ë¹„ íì—ì„œ ëŒ€ê¸°í•˜ëŠ” ì‹œê°„ (â†“)

-> CPU ìŠ¤ì¼€ì¥´ë§ ì•Œê³ ë¦¬ì¦˜ì— ë”°ë¼ ì‹¤ì§ˆì ìœ¼ë¡œ ì˜í–¥ë°›ëŠ” ìš”ì†Œ

5) **ë°˜ì‘ ì‹œê°„(response time)** : ì‘ì—…ì„ ì œì¶œí•œ í›„ ì²« ì‘ë‹µì´ ë‚˜ì˜¬ ë•Œê¹Œì§€ì˜ ì‹œê°„ (â†“)

-> ëŒ€í™”ì‹ ì‹œìŠ¤í…œì˜ ê²½ìš° ë°˜í™˜ ì‹œê°„ë³´ë‹¤ ì í•©

## í”„ë¡œì„¸ìŠ¤ ìƒíƒœ

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e1a653a1-9019-4126-b98d-c7c58a74d7cd/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e1a653a1-9019-4126-b98d-c7c58a74d7cd/Untitled.png)

ready : í”„ë¡œì„¸ìŠ¤ê°€ CPUë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœ

running : í”„ë¡œì„¸ìŠ¤ê°€ CPUë¥¼ í• ë‹¹ë°›ì•„ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰ì¤‘ì¸ ìƒíƒœ

waiting : í”„ë¡œì„¸ìŠ¤ê°€ CPUë¥¼ í• ë‹¹ ë°›ì•„ë„ ë‹¹ì¥ ì‹¤í–‰í•  ìˆ˜ ì—†ëŠ” ìƒíƒœ

- ë¹„ì„ ì  ìŠ¤ì¼€ì¤„ë§ : `I/O or Event wait`
- ì„ ì  ìŠ¤ì¼€ì¤„ë§ :Â `Interrupt`

### readyì™€ waitingì˜ ì°¨ì´?

readyë„ waitingê³¼ ë˜‘ê°™ì´ ìƒíƒœì˜ ë³€í™”ë¥¼ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ” ê²ƒ.

- readyëŠ” ë‹¨ì–´ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ ì‹¤í–‰ ì¤€ë¹„ê°€ ë‹¤ ëœ ìƒíƒœì—ì„œ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒ
- waitingì€ I/Oë‚˜ ë‹¤ë¥¸ ì´ë²¤íŠ¸ê°€ ë°œìƒì´ ëë‚˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒ.

waitingì€ í”„ë¡œì„¸ìŠ¤ Aê°€ CPUë¥¼ í• ë‹¹ë°›ê³ (runningìƒíƒœ) ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë‹¤ I/O ì‘ì—…ì„ í•´ì•¼ í•˜ëŠ” ê²½ìš°, ë””ìŠ¤í¬ I/O ì‘ì—…ì€ CPU ì²˜ë¦¬ ì†ë„ì— ë¹„í•´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì´ê¸° ë•Œë¬¸ì— ë””ìŠ¤í¬ I/O ì‘ì—… ë™ì•ˆì€ CPUë¥¼ ì ìœ í•˜ê³  ìˆì–´ë„ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ì§€ ëª»í•©ë‹ˆë‹¤.Â ã…¡> CPU ë‚­ë¹„

ë•Œë¬¸ì— ë””ìŠ¤í¬ I/O ì‘ì—…ì„ í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ëŠ” CPUë¥¼ ë°˜ë‚©í•˜ê³  ì¥ì¹˜ íì—ê°€ì„œ ì¤„ì„ ì„œê²Œ ëœë‹¤ (waiting â†’ ready)

## ì„ ì  / ë¹„ì„ ì  ìŠ¤ì¼€ì¤„ë§

- ì„ ì  (preemptive) : OSê°€ CPUì˜ ì‚¬ìš©ê¶Œì„ ì„ ì í•  ìˆ˜ ìˆëŠ” ê²½ìš°, ê°•ì œ íšŒìˆ˜í•˜ëŠ” ê²½ìš°
- ë¹„ì„ ì  (nonpreemptive) : í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ or I/O ë“±ì˜ ì´ë²¤íŠ¸ê°€ ìˆì„ ë•Œê¹Œì§€ ì‹¤í–‰ ë³´ì¥ (ì²˜ë¦¬ì‹œê°„ ì˜ˆì¸¡ ì–´ë ¤ì›€)

### ë¹„ì„ ì  ìŠ¤ì¼€ì¥´ë§

1. FCFS (First Come First Served)
    - íì— ë„ì°©í•œ ìˆœì„œëŒ€ë¡œ CPU í• ë‹¹
    - ì‹¤í–‰ ì‹œê°„ì´ ì§§ì€ ê²Œ ë’¤ë¡œ ê°€ë©´ í‰ê·  ëŒ€ê¸° ì‹œê°„ì´ ê¸¸ì–´ì§

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d3332d7c-73b3-4c75-b880-e5472fee21d0/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d3332d7c-73b3-4c75-b880-e5472fee21d0/Untitled.png)

2. SJF (Shortest Job First)
    - ìˆ˜í–‰ì‹œê°„ì´ ê°€ì¥ ì§§ë‹¤ê³  íŒë‹¨ë˜ëŠ” ì‘ì—…ì„ ë¨¼ì € ìˆ˜í–‰, ë™ì¼í•  ê²½ìš°ëŠ” ì„ ì…ì„ ì¶œ ìŠ¤ì¼€ì¥´ë§ì„ ì ìš©
    - FCFS ë³´ë‹¤ í‰ê·  ëŒ€ê¸° ì‹œê°„ ê°ì†Œ, ì§§ì€ ì‘ì—…ì— ìœ ë¦¬

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/dfa64806-c291-4bda-b92e-edde0bc03e20/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/dfa64806-c291-4bda-b92e-edde0bc03e20/Untitled.png)

### ì„ ì  ìŠ¤ì¼€ì¥´ë§

1. ì„ ì  SJF ìŠ¤ì¼€ì¥´ë§
    - ìµœì†Œ ì”ì—¬ ì‹œê°„ ìš°ì„ (Shortest Remaining Time First) ìŠ¤ì¼€ì¥´ë§

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5229389b-7331-4803-a0bb-14b391cb1e66/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5229389b-7331-4803-a0bb-14b391cb1e66/Untitled.png)

2. Priority Scheduling
    - ì •ì /ë™ì ìœ¼ë¡œ ìš°ì„ ìˆœìœ„ë¥¼ ë¶€ì—¬í•˜ì—¬ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬
    - ìš°ì„  ìˆœìœ„ê°€ ë‚®ì€ í”„ë¡œì„¸ìŠ¤ê°€ ë¬´í•œì • ê¸°ë‹¤ë¦¬ëŠ” Starvation ì´ ìƒê¸¸ ìˆ˜ ìˆìŒ
    - Aging ë°©ë²•ìœ¼ë¡œ Starvation ë¬¸ì œ í•´ê²° ê°€ëŠ¥
    ì—ì´ì§•(Aging) - ì²´ë¥˜ ì‹œê°„ì— ë¹„ë¡€í•˜ì—¬ ìš°ì„ ìˆœìœ„ë¥¼ ë†’ì—¬ ì£¼ëŠ” ë°©ë²•
3. Round Robin
    - FCFSì— ì˜í•´ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ë³´ë‚´ì§€ë©´ ê° í”„ë¡œì„¸ìŠ¤ëŠ” ë™ì¼í•œ ì‹œê°„ì˜Â `Time Quantum`Â ë§Œí¼ CPUë¥¼ í• ë‹¹ ë°›ìŒ

        â†’ `Time Quantum`Â orÂ `Time Slice`Â : ì‹¤í–‰ì˜ ìµœì†Œ ë‹¨ìœ„ ì‹œê°„

    - ì‹œë¶„í•  ì‹œìŠ¤í…œ ì„±ì§ˆì„ ê°€ì¥ ì˜ í™œìš©í•¨
    - í• ë‹¹ ì‹œê°„(`Time Quantum`)ì´ í¬ë©´ FCFSì™€ ê°™ê²Œ ë˜ê³ , ì‘ìœ¼ë©´ ë¬¸ë§¥ êµí™˜ (Context Switching) ì¦ì•„ì ¸ì„œ ì˜¤ë²„í—¤ë“œ ì¦ê°€

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d25658f1-3e6c-4fa9-a924-437bb2255f06/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d25658f1-3e6c-4fa9-a924-437bb2255f06/Untitled.png)

4. Multilevel-Queue (ë‹¤ë‹¨ê³„ í)

    Ready Queueë¥¼ ì—¬ëŸ¬ ê°œì˜ Queueë¡œ ë¶„ë¥˜í•˜ê³ , ê°ê°ì˜ Queue ë‚´ì— ë…ë¦½ì ì¸ ìŠ¤ì¼€ì¥´ë§ ê¸°ë²•ì„ ì ìš©ì‹œí‚¤ê³ , ê°ê°ì˜ Queueì‚¬ì´ì—ë„ ë³„ë„ì˜ ìŠ¤ì¼€ì¥´ë§ ê¸°ë²•ì´ ì¡´ì¬í•˜ëŠ” ìŠ¤ì¼€ì¥´ë§ ë°©ì‹ì´ë‹¤. 

    í ì‚¬ì´ì˜ ìŠ¤ì¼€ì¥´ë§ ê¸°ë²•ìœ¼ë¡œëŠ” Priority ê¸°ë²•ì„ ì ìš©í• ìˆ˜ë„, Time Slice ë°©ì‹ì„ ì ìš©í• ìˆ˜ë„ ìˆë‹¤.

    ![https://user-images.githubusercontent.com/13609011/91695428-16a2f480-eba9-11ea-8d91-17d22bab01e5.png](https://user-images.githubusercontent.com/13609011/91695428-16a2f480-eba9-11ea-8d91-17d22bab01e5.png)

    - ì‘ì—…ë“¤ì„ ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ê·¸ë£¹ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì—¬ëŸ¬ ê°œì˜ íë¥¼ ì´ìš©í•˜ëŠ” ê¸°ë²•

        ![https://user-images.githubusercontent.com/13609011/91695480-2a4e5b00-eba9-11ea-8dbf-390bf0a73c10.png](https://user-images.githubusercontent.com/13609011/91695480-2a4e5b00-eba9-11ea-8dbf-390bf0a73c10.png)

    - ìš°ì„ ìˆœìœ„ê°€ ë‚®ì€ íë“¤ì´ ì‹¤í–‰ ëª»í•˜ëŠ” ê±¸ ë°©ì§€í•˜ê³ ì ê° íë§ˆë‹¤ ë‹¤ë¥¸Â `Time Quantum`ì„ ì„¤ì • í•´ì£¼ëŠ” ë°©ì‹ ì‚¬ìš©
    - ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ íëŠ” ì‘ì€Â `Time Quantum`Â í• ë‹¹. ìš°ì„ ìˆœìœ„ê°€ ë‚®ì€ íëŠ” í°Â `Time Quantum`Â í• ë‹¹.
5. Multilevel-Feedback-Queue (ë‹¤ë‹¨ê³„ í”¼ë“œë°± í)

    ![https://user-images.githubusercontent.com/13609011/91695489-2cb0b500-eba9-11ea-8578-6602fee742ed.png](https://user-images.githubusercontent.com/13609011/91695489-2cb0b500-eba9-11ea-8578-6602fee742ed.png)

    - ë©€í‹°ë ˆë²¨ íì™€ ë¹„ìŠ·í•˜ë‚˜ í”„ë¡œì„¸ìŠ¤ê°€ ë‹¤ë¥¸ íë¡œ ì´ë™í•  ìˆ˜ ìˆìŒ
    - **aging**ê¸°ë²•ì„ êµ¬í˜„ê°€ëŠ¥, ë‚®ì€ ìš°ì„ ìˆœìœ„ì— ìˆëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ë†’ì€ ìš°ì„ ìˆœìœ„ íë¡œ ìŠ¹ê²©ì‹œí‚¤ëŠ” ë“±.
    - ë‹¤ë‹¨ê³„ íì—ì„œ ìì‹ ì˜Â `Time Quantum`ì„ ë‹¤ ì±„ìš´ í”„ë¡œì„¸ìŠ¤ëŠ” ë°‘ìœ¼ë¡œ ë‚´ë ¤ê°€ê³  ìì‹ ì˜Â `Time Quantum`ì„ ë‹¤ ì±„ìš°ì§€ ëª»í•œ í”„ë¡œì„¸ìŠ¤ëŠ” ì›ë˜ í ê·¸ëŒ€ë¡œ

        â†’ Time Quantumì„ ë‹¤ ì±„ìš´ í”„ë¡œì„¸ìŠ¤ëŠ” CPU burst í”„ë¡œì„¸ìŠ¤ë¡œ íŒë‹¨í•˜ê¸° ë•Œë¬¸

    - ì§§ì€ ì‘ì—…ì— ìœ ë¦¬, ì…ì¶œë ¥ ìœ„ì£¼(Interruptê°€ ì¦ì€) ì‘ì—…ì— ìš°ì„ ê¶Œì„ ì¤Œ
    - ì²˜ë¦¬ ì‹œê°„ì´ ì§§ì€ í”„ë¡œì„¸ìŠ¤ë¥¼ ë¨¼ì € ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— Turnaround í‰ê·  ì‹œê°„ì„ ì¤„ì—¬ì¤Œ

    ### ë©€í‹°í”„ë¡œì„¸ì„œ ìŠ¤ì¼€ì¥´ë§ ( Multiple-Processor Scheduling )

    í”„ë¡œì„¸ì„œ ë˜ëŠ” ì½”ì–´ê°€ ì—¬ëŸ¬ê°œì¸ ê²½ìš°ì— ì—¬ëŸ¬ê°œì˜ CPUì— ëŒ€í•´ ë‹¤ë£¨ì–´ì§€ëŠ” ìŠ¤ì¼€ì¥´ë§

    ## ì°¸ê³ 

    [CPU ìŠ¤ì¼€ì¥´ë§](https://devsophia.tistory.com/entry/CPU-%EC%8A%A4%EC%BC%80%EC%A5%B4%EB%A7%81)

    [CPU Scheduling | ğŸ‘¨ğŸ»â€ğŸ’» Tech Interview](https://gyoogle.dev/blog/computer-science/operating-system/CPU%20Scheduling.html)

    [[OS] Cpu ìŠ¤ì¼€ì¥´ë§](https://velog.io/@secho/OS-Cpu-%EC%8A%A4%EC%BC%80%EC%A5%B4%EB%A7%81)

    [[ìš´ì˜ì²´ì œ] 5ì¥ CPU ìŠ¤ì¼€ì¥´ë§(CPU Scheduling)](https://m.blog.naver.com/three_letter/220334644682)