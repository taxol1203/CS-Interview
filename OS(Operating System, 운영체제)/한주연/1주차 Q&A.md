# 1주차 한주연 질의 응답

## cpu 스케쥴링 성능 척도 기준을 아는대로 말해주세요  

1) **CPU 이용률(Utilization)** : CPU 수행 시간 / 시스템 구동 시간 (%) (↑)  
2) **처리율(throughput)** : 단위 시간당 완료되는 프로세스 수 (↑)  
3) **반환 시간(turnaround time)** : 프로세스가 시스템에 진입하여 완료되기까지의 시간(↓)  
4) **대기 시간(waiting time)** : 준비 큐에서 대기하는 시간 (↓)  
-> CPU 스케쥴링 알고리즘에 따라 실질적으로 영향받는 요소  
5) **반응 시간(response time)** : 작업을 제출한 후 첫 응답이 나올 때까지의 시간 (↓)  
-> 대화식 시스템의 경우 반환 시간보다 적합  


## 프로세스와 스레드의 저장 공간에 대하여 말해주세요
### Process
프로세스 주소 공간에는 **Code, Data, Stack, Heap**의 구조로 되어 있는 독립된 메모리 영역을 가지고 있다.  
따라서, 각 프로세스는 별도의 주소 공간에서 실행되며, 한 프로세스는 다른 프로세스의 변수나 자료구조에 접근할 수 없다.  

한 프로세스가 다른 프로세스의 자원에 접근하려면 프로세스 간의 통신(IPC, inter-process communication)을 사용해야 한다.  

### Thread
반면에 스레드는 프로세스 내에서 각각 Stack만 따로 할당받고 Code, Data, Heap 영역은 공유한다.  
따라서, 스레드가 프로세스 자원을 변경하면, 다른 이웃 스레드도 그 변경 결과를 즉시 볼 수 있다.  

→ 왜 스레드에서 stack은 공유하지 않는가요?   
LIFO(Last In First Out) / 후입 선출이라는 스택의 특성과도 연관이 있습니다.  
코드와 데이터 힙 영역을 공유하는 것에는 큰 문제가 없지만,스택 영역은 스택이 쌓이면 위에서부터 프로세스가 섞인 채로 순서대로 나오게 되므로 더 복잡해지기 때문에 원활한 실행 흐름을 위해 스택은 따로 독립적으로 존재하게 됩니다.   

## 멀티 프로세스와 멀티 스레드의 장단점을 알려주세요

### **멀티 프로세스**

하나의 응용프로그램을 여러 개의 프로세스로 구성하여 각 프로세스가 하나의 작업을 처리하도록 하는 것을 의미합니다.  

멀티 프로세스 방식은 각 프로세스가 독립된 구조기 때문에 안정성이 높다는 장점이 있지만, `Context Switching`으로 인한 성능 저하라는 큰 문제가 있습니다.  

따라서 멀티 프로세스는 Context Switching 과정에서 캐쉬 메모리 초기화 등 무거운 작업이 진행되고 많은 시간이 소모되는 등의 오버헤드가 발생하게 됩니다.  
  
마지막으로 프로세스는 프로세스들 사이의 변수를 공유할 수 없으므로, 통신을 위하여 IPC라는 복잡한 기법을 사용하게 됩니다.   

### **멀티 스레드**

하나의 응용프로그램을 여러 개의 스레드로 구성하고 각 스레드로 하여금 하나의 작업을 처리하도록 하는 것을 의미합니다.  

따라서, 자원의 효율성과 처리 비용 감소 및 응답시간 단축을 위해 멀티 스레드를 사용하게 되며, 이것이 장점입니다.  

스레드는 메모리를 서로 공유할 수 있다고 언급했습니다. 따라서 컨텍스트 스위칭(Context Switching) 시에 공유 메모리 만큼의 자원 손실이 줄어들게 됩니다.

프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어들어 시스템 자원을 효율적으로 관리할 수 있다.

마지막으로 힙 메모리를 공유하기 때문에, IPC와 같이 복잡한 프로세스 통신 없이 효율적인 일처리가 가능하게 됩니다.

하지만 멀티 스레드 방식에도 단점이 존재하는데, 프로세스는 독립된 공간을 가지므로 프로세스를 실행하다가 오류가 발생해서 강제로 종료하더라도 서로 공유하지 않는다면 영향을 주지 않습니다.

그런데 스레드의 경우는 다릅니다.

스레드는 Code/Data/Heap 메모리 영역의 내용을 공유하기 때문에 어떤 스레드 하나에서 오류가 발생한다면 같은 프로세스 내의 다른 스레드 모두가 강제로 종료되버립니다.

원을 공유하기 때문에 필연적으로 동기화 문제가 발생할 수 있습니다.

따라서 주의 깊은 설계가 필요하고 디버깅이 까다롭게 됩니다.

## Process Control Block에 대하여 설명해 주세요  
운영체제가 프로세스 실행을 제어하기 위해서는 프로세스의 정보를 알아야 합니다.  
프로세스 제어 블록(PCB)은 운영체제가 프로세스 스케줄링을 위해 프로세스에 관한 모든 정보를 가지고 있는 데이터베이스입니다.  

프로세스는 CPU를 점유하여 작업을 처리하다가 상태가 전이되면, CPU가 처리하던 작업의 내용들을 자신의 PCB에 저장하고 다음에 다시 CPU를 점유하여 작업을 수행해야 할 때 PCB로부터 해당 정보들을 CPU에 넘겨와서 계속해서 하던 작업을 진행할 수 있게 됩니다.  
즉, 프로세스 상태 관리와 문맥교환(Context Switching)을 위해 필요한 것입니다.  

→ Context Switching이 뭐죠

> CPU가 이전의 프로세스 상태를 PCB에 보관하고, 또 다른 프로세스의 정보를 PCB에 읽어 레지스터에 적재하는 과정

CPU에서 여러 프로세스를 돌아가면서 작업을 처리하는 데 이 과정을 Context Switching라 한다.

구체적으로, 동작 중인 프로세스가 대기를 하면서 해당 프로세스의 상태(Context)를 보관하고, 대기하고 있던 다음 순서의 프로세스가 동작하면서 이전에 보관했던 프로세스의 상태를 복구하는 작업을 말한다.

프로세스는 각각의 독립된 메모리 영역을 할당받았기 때문에 프로세스 사이에서 공유하는 메모리가 없어,

Context Switching가 발생하면 캐쉬에 있는 모든 데이터를 리셋하고 다시 캐쉬 정보를 불러와야 합니다.

→ PCB 관리 방법에 대하여 알려주세요  
Linked List 방식으로 관리된다.

PCB List Head에 PCB들이 생성될 때마다 붙게 된다. 주소값으로 연결이 이루어져 있는 연결리스트이기 때문에 삽입 삭제가 용이하다.

즉, 프로세스가 생성되면 해당 PCB가 생성되고 프로세스 완료시 제거된다.